server {
    listen 8080;
    server_name _;
    
    # Only allow access from internal Docker network and localhost
    allow 127.0.0.1;
    allow 172.16.0.0/12;
    deny all;
    
    # NGINX status page for Prometheus
    location /nginx_status {
        stub_status on;
        access_log off;
    }
    
    # Simple health check endpoint
    location /health {
        access_log off;
        add_header Content-Type text/plain;
        return 200 "OK\n";
    }
}